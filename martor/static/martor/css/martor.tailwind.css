/**
 * Martor Tailwind CSS Theme
 * This file provides Tailwind CSS-based styling for the Martor markdown editor
 * Use with Tailwind CSS framework
 */

/* Global Body Overflow Control */
body.overflow {
    overflow: hidden !important;
}

/* Main Editor Container */
.martor {
    @apply h-[500px] max-h-[500px];
}

.martor-field {
    @apply w-full h-64 min-h-[100px] resize-y border-r border-b border-gray-300;
}

.main-martor {
    @apply my-4 relative;
}

/* Modal Styles */
.main-martor .modal-header {
    @apply p-2 px-4;
}

.main-martor .modal-header h5 {
    @apply text-base;
}

/* Upload Progress Overlay */
.main-martor .upload-progress {
    @apply absolute z-[100] w-full h-full pt-20 bg-black bg-opacity-85 text-white text-center;
}

/* Toolbar Styles */
.martor-toolbar {
    @apply z-[100];
}

.enable-living .martor-toolbar {
    @apply relative;
}

.martor-toolbar .markdown-image-upload {
    @apply relative overflow-hidden;
}

.martor-toolbar .markdown-image-upload input[type=file] {
    @apply absolute top-0 right-0 w-full h-full text-2xl p-0 pl-9 text-right opacity-0 outline-none cursor-pointer block;
    min-width: 100%;
    min-height: 100%;
    filter: alpha(opacity=0);
}

/* Emoji Styles */
.emoji-loader-init {
    min-height: 200px !important;
    @apply pt-16;
}

.emoji-content-body {
    @apply text-xs;
}

.insert-emoji {
    @apply cursor-pointer no-underline;
}

/* Reference Table */
.table.markdown-reference {
    @apply text-xs;
}

.table.markdown-reference h1 {
    @apply text-2xl;
}

.table.markdown-reference h2 {
    @apply text-xl;
}

.table.markdown-reference ul,
.table.markdown-reference ol {
    @apply pl-4;
}

/* Preview Styles */
div.martor-preview {
    @apply p-4 overflow-auto bg-gray-50;
}

div.martor-preview-stale {
    background: repeating-linear-gradient(-45deg, #fff, #fff 10px, #f8f8f8 10px, #f8f8f8 20px) !important;
}

/* Tab Navigation Styles */
.main-martor .nav-tabs {
    @apply border-b-2 border-gray-200;
}

.main-martor .nav-tabs .nav-link:hover,
.main-martor .nav-tabs .nav-link:focus {
    @apply border-transparent;
}

.main-martor .nav-tabs .nav-item.show .nav-link,
.main-martor .nav-tabs .nav-link.active,
.main-martor .nav-tabs .nav-link.active:hover {
    @apply border-transparent border-b-2 border-gray-800 text-gray-700;
}

.main-martor .tab-pane {
    @apply relative;
}

.icon.expand-editor {
    @apply absolute -bottom-2 right-2 z-[100];
}

.no-border {
    @apply border-0;
}

/* Live Preview Mode */
div.enable-living .martor-preview {
    @apply block opacity-100 mt-4 border border-gray-200 rounded-md;
}

div.enable-living .tab-martor-menu a.nav-link {
    @apply hidden;
}

/* Custom Scrollbar Styles */
.section-martor ::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
    @apply rounded-lg bg-gray-100;
}

.section-martor ::-webkit-scrollbar {
    @apply h-1.5 w-1.5 bg-gray-100;
}

.section-martor ::-webkit-scrollbar-thumb {
    @apply rounded-lg bg-gray-600;
    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);
}

.ace_scrollbar-v {
    cursor: ns-resize;
}

/* Fullscreen Mode */
.main-martor-fullscreen {
    @apply bg-white fixed z-[9999] max-h-full h-full w-full m-0 left-0 top-0;
}

.main-martor-fullscreen .fields.martor-toolbar {
    @apply border-b border-gray-300 m-0;
}

.main-martor-fullscreen .section-martor {
    @apply h-[90%] relative;
}

.main-martor-fullscreen .martor-field,
.main-martor-fullscreen div.martor-preview {
    min-height: 95vh;
}

/* Preview Content Styling */
.marked-emoji,
div.martor-preview .marked-emoji {
    @apply max-w-5;
}

div.martor-preview {
    @apply text-sm leading-relaxed;
}

div.martor-preview>*:first-child {
    @apply mt-0;
}

div.martor-preview>*:last-child {
    @apply mb-5;
}

div.martor-preview a.absent {
    @apply text-red-600;
}

div.martor-preview a.anchor {
    @apply block pl-8 -ml-8 cursor-pointer absolute top-0 left-0 bottom-0;
}

/* Heading Styles */
div.martor-preview h1,
div.martor-preview h2,
div.martor-preview h3,
div.martor-preview h4,
div.martor-preview h5,
div.martor-preview h6 {
    @apply my-5 mb-2 p-0 font-bold cursor-text relative;
    -webkit-font-smoothing: antialiased;
    background: none;
}

div.martor-preview h1:hover a.anchor,
div.martor-preview h2:hover a.anchor,
div.martor-preview h3:hover a.anchor,
div.martor-preview h4:hover a.anchor,
div.martor-preview h5:hover a.anchor,
div.martor-preview h6:hover a.anchor {
    @apply no-underline leading-none pl-0 -ml-6;
    top: 15%;
}

div.martor-preview h1 {
    @apply text-3xl text-black;
}

div.martor-preview h2 {
    @apply text-2xl text-black;
}

div.martor-preview h3 {
    @apply text-lg;
}

div.martor-preview h4 {
    @apply text-base;
}

div.martor-preview h5 {
    @apply text-sm;
}

div.martor-preview h6 {
    @apply text-gray-500 text-sm;
}

/* Content Elements */
div.martor-preview p,
div.martor-preview blockquote,
div.martor-preview ul,
div.martor-preview ol,
div.martor-preview dl,
div.martor-preview table,
div.martor-preview pre {
    @apply my-4;
}

div.martor-preview hr {
    background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxBEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
    @apply border-0 text-gray-300 h-1 p-0;
}

/* First Child Margin Reset */
div.martor-preview>h2:first-child,
div.martor-preview>h1:first-child,
div.martor-preview>h1:first-child+h2,
div.martor-preview>h3:first-child,
div.martor-preview>h4:first-child,
div.martor-preview>h5:first-child,
div.martor-preview>h6:first-child {
    @apply mt-0 pt-0;
}

div.martor-preview a:first-child h1,
div.martor-preview a:first-child h2,
div.martor-preview a:first-child h3,
div.martor-preview a:first-child h4,
div.martor-preview a:first-child h5,
div.martor-preview a:first-child h6 {
    @apply mt-0 pt-0;
}

div.martor-preview h1+p,
div.martor-preview h2+p,
div.martor-preview h3+p,
div.martor-preview h4+p,
div.martor-preview h5+p,
div.martor-preview h6+p {
    @apply mt-0;
}

/* List Styles */
div.martor-preview li p.first {
    @apply inline-block;
}

div.martor-preview ul li {
    @apply list-disc;
}

div.martor-preview ul,
div.martor-preview ol {
    @apply pl-8;
}

div.martor-preview ul.no-list,
div.martor-preview ol.no-list {
    @apply list-none p-0;
}

div.martor-preview ul li> :first-child,
div.martor-preview ul li ul:first-of-type,
div.martor-preview ol li> :first-child,
div.martor-preview ol li ul:first-of-type {
    @apply mt-0;
}

div.martor-preview ul ul,
div.martor-preview ul ol,
div.martor-preview ol ol,
div.martor-preview ol ul {
    @apply mb-0;
}

/* Definition Lists */
div.martor-preview dl {
    @apply p-0;
}

div.martor-preview dl dt {
    @apply text-sm font-bold italic p-0 my-4 mt-0;
}

div.martor-preview dl dt:first-child {
    @apply p-0;
}

div.martor-preview dl dt> :first-child {
    @apply mt-0;
}

div.martor-preview dl dt> :last-child {
    @apply mb-0;
}

div.martor-preview dl dd {
    @apply m-0 mb-4 pl-4;
}

div.martor-preview dl dd> :first-child {
    @apply mt-0;
}

div.martor-preview dl dd> :last-child {
    @apply mb-0;
}

/* Blockquotes */
div.martor-preview blockquote {
    @apply border-l-4 border-gray-300 py-1 px-4 text-gray-500 bg-white;
}

div.martor-preview blockquote> :first-child {
    @apply mt-0;
}

div.martor-preview blockquote> :last-child {
    @apply mb-0;
}

/* Tables */
div.martor-preview table th {
    @apply font-bold;
}

div.martor-preview table th,
div.martor-preview table td {
    @apply border border-gray-300 py-1.5 px-3;
}

div.martor-preview table tr {
    @apply border-t border-gray-300 bg-white;
}

div.martor-preview table tr:nth-child(2n) {
    @apply bg-gray-50;
}

/* Images */
div.martor-preview img,
div.martor-preview p img {
    @apply max-w-full;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}

/* Image Frames */
div.martor-preview span.frame {
    @apply block overflow-hidden;
}

div.martor-preview span.frame>span {
    @apply border border-gray-300 block float-left overflow-hidden my-3 mt-0 p-2 w-auto;
}

div.martor-preview span.frame span img {
    @apply block float-left;
}

div.martor-preview span.frame span span {
    @apply clear-both text-gray-800 block pt-1 pb-0;
}

/* Image Alignment */
div.martor-preview span.align-center {
    @apply block overflow-hidden clear-both;
}

div.martor-preview span.align-center>span {
    @apply block overflow-hidden my-3 mt-0 mx-auto text-center;
}

div.martor-preview span.align-center span img {
    @apply mx-auto text-center;
}

div.martor-preview span.align-right {
    @apply block overflow-hidden clear-both;
}

div.martor-preview span.align-right>span {
    @apply block overflow-hidden my-3 mt-0 text-right;
}

div.martor-preview span.align-right span img {
    @apply m-0 text-right;
}

div.martor-preview span.float-left {
    @apply block mr-3 overflow-hidden float-left;
}

div.martor-preview span.float-left span {
    @apply my-3 mt-0;
}

div.martor-preview span.float-right {
    @apply block ml-3 overflow-hidden float-right;
}

div.martor-preview span.float-right>span {
    @apply block overflow-hidden my-3 mt-0 mx-auto text-right;
}

/* Code Styles */
div.martor-preview code,
div.martor-preview tt {
    @apply mx-0.5 py-0 px-1 border border-gray-200 bg-gray-100 rounded;
}

div.martor-preview code {
    @apply whitespace-nowrap;
}

div.martor-preview pre>code {
    @apply m-0 p-0 whitespace-pre border-0 bg-transparent;
}

div.martor-preview .highlight pre,
div.martor-preview pre {
    @apply border border-gray-200 p-4 overflow-auto text-sm leading-normal bg-gray-50 rounded;
}

div.martor-preview pre code,
div.martor-preview pre tt {
    @apply m-0 p-0 bg-transparent border-0;
}
